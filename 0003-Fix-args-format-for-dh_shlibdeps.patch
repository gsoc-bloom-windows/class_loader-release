From a0e72c5d79dc09d14ec0dba76d8345ce23ffa3ed Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Steven!=20Ragnar=C3=B6k?= <steven@nuclearsandwich.com>
Date: Thu, 15 Jun 2017 16:13:32 -0400
Subject: [PATCH 3/3] Fix args format for dh_shlibdeps.

We were getting lucky here. dpkg-shlibdeps takes multiple -l args but
dh_shlibdeps only takes one with paths separated by colons. The last
one, which was the needed one, was winning but if the package ever had
shared libraries that it built and relied on itself this would bust.
---
 debian/rules.em | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/debian/rules.em b/debian/rules.em
index 254c5c8..392140e 100755
--- a/debian/rules.em
+++ b/debian/rules.em
@@ -48,7 +48,7 @@ override_dh_shlibdeps:
 	# in the install tree that was dropped by catkin, and source it.  It will
 	# set things like CMAKE_PREFIX_PATH, PKG_CONFIG_PATH, and PYTHONPATH.
 	if [ -f "@(InstallationPrefix)/setup.sh" ]; then . "@(InstallationPrefix)/setup.sh"; fi && \
-	dh_shlibdeps -l$(CURDIR)/debian/@(Package)/@(InstallationPrefix)/lib/ -l@(InstallationPrefix)/lib/
+	dh_shlibdeps -l$(CURDIR)/debian/@(Package)/@(InstallationPrefix)/lib/:@(InstallationPrefix)/lib/
 
 override_dh_auto_install:
 	# In case we're installing to a non-standard location, look for a setup.sh
-- 
2.7.4

